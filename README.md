# 2Dアクションゲーム - Unityプロジェクト

## 📖 プロジェクト概要

このプロジェクトは、Unityで開発された2Dアクションゲームのスクリプト群です。プレイヤーキャラクターの操作、敵のAI、ステージ管理、UIシステムなど、ゲームの核となる機能を実装しています。

## 🎮 ゲーム機能

### プレイヤーシステム
- **移動**: ジョイスティックまたはキーボード（WASD）での移動
- **ジャンプ**: スペースキーまたはボタンでジャンプ（二段ジャンプ対応）
- **ロール**: 左シフトキーまたはボタンでダッシュロール
- **攻撃**: Fキーまたはボタンで攻撃
- **体力・スタミナシステム**: HPとスタミナの管理
- **ダメージ処理**: 無敵時間とダメージエフェクト

### 敵システム
- **AI行動**: プレイヤー検知、追跡、攻撃
- **体力バー**: リアルタイムHP表示
- **ダメージ表示**: 数値ダメージとエフェクト
- **スケーリング**: ステージ進行に応じた敵の強化

### ステージシステム
- **自動生成**: カメラ追従によるステージの自動生成・削除
- **進行度管理**: ステージ進行に応じた難易度調整
- **テレポート**: ステージ間の移動システム

### UIシステム
- **メインUI**: ゲーム中のHUD表示
- **タイトル画面**: ゲーム開始画面
- **ゲームオーバー**: 死亡時のリトライ・タイトル戻り機能
- **セーフエリア対応**: モバイルデバイス対応

## 📁 ファイル構成

### プレイヤー関連
- `PlayerController.cs` - プレイヤーの移動・操作制御
- `PlayerStats.cs` - プレイヤーのステータス管理（HP、スタミナ、ゴールド）
- `PlayerDamageHandler.cs` - ダメージ処理
- `PlayerRange.cs` - 攻撃範囲の管理
- `PlayerPersistence.cs` - プレイヤーデータの永続化

### 敵関連
- `Enemy.cs` - 敵のAIと行動制御
- `DamageZone.cs` - ダメージエリアの管理
- `ImpactEffect.cs` - 攻撃エフェクト

### ステージ・カメラ関連
- `StageManager.cs` - ステージの自動生成・管理
- `CameraController.cs` - カメラ制御
- `CameraFollow.cs` - プレイヤー追従カメラ
- `CameraSizeSetter.cs` - カメラサイズ設定
- `TeleportFrom.cs` / `TeleportTo.cs` - テレポートシステム

### UI関連
- `UIManager.cs` - UI管理
- `TitleScreen.cs` - タイトル画面制御
- `ButtonController.cs` - ボタン制御
- `Score.cs` - スコア管理
- `SetSafeArea.cs` - セーフエリア設定

### アニメーション関連
- `AnimatorSwitcher.cs` - アニメーター切り替え
- `NPCAnimationSwitcher.cs` - NPCアニメーション制御
- `CharacterRun.cs` - キャラクター走行アニメーション

### その他
- `NPCInteraction.cs` - NPCとの対話システム
- `PersistentObjectController.cs` - 永続オブジェクト管理
- `InitialSpawnPoint.cs` - 初期スポーンポイント
- `ScreenBoundaryDamage.cs` - 画面境界ダメージ

## 🛠️ 技術仕様

### 開発環境
- **Unity**: 2022.3以降推奨
- **言語**: C#
- **プラットフォーム**: PC、モバイル対応

### 主要機能
- **シングルトンパターン**: プレイヤーとステータス管理
- **コルーチン**: アニメーションとエフェクト制御
- **イベントシステム**: UIとゲームロジックの連携
- **物理演算**: Rigidbody2Dを使用した移動と衝突判定
- **アニメーション**: Animatorを使用したキャラクターアニメーション

### 入力システム
- **キーボード**: WASD移動、スペースジャンプ、左シフトロール、F攻撃
- **ジョイスティック**: モバイル対応の仮想ジョイスティック
- **タッチボタン**: ジャンプ、ロール、攻撃ボタン

## 🚀 セットアップ方法

1. Unity Hubで新しい2Dプロジェクトを作成
2. このスクリプトフォルダを`Assets/Scripts/`に配置
3. 必要なコンポーネントをGameObjectにアタッチ
4. プレハブとアニメーションを設定
5. シーンを構築してゲームを実行

## 📝 使用方法

### プレイヤーの設定
```csharp
// PlayerControllerをプレイヤーGameObjectにアタッチ
// 必要なUI要素（ジョイスティック、ボタン）をInspectorで設定
```

### 敵の設定
```csharp
// Enemyスクリプトを敵GameObjectにアタッチ
// HP、攻撃力、移動速度をInspectorで調整
```

### ステージの設定
```csharp
// StageManagerにステージプレハブを設定
// カメラのTransformを指定
```

## 🔧 カスタマイズ

### プレイヤーの調整
- `PlayerController.cs`の移動速度、ジャンプ力、ロール倍率を変更
- `PlayerStats.cs`でHP、スタミナ、攻撃力を調整

### 敵の調整
- `Enemy.cs`で検知範囲、攻撃範囲、移動速度を調整
- `StageManager.cs`で敵のスケーリング係数を変更

### ステージの調整
- `StageManager.cs`でステージ長、生成間隔を調整
- ステージプレハブの配置を変更

## 📄 ライセンス

このプロジェクトはMITライセンスの下で公開されています。

。

## 

---

**注意**: このプロジェクトはスクリプトファイルのみを含んでいます。Unityプロジェクトで使用するには、適切なアセット（スプライト、アニメーション、音声など）とシーン設定が必要です。 
